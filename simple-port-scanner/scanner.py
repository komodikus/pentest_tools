import colorama
import socket

colorama.init()
color_a = colorama.Fore.GREEN + "[+] "
color_b = colorama.Fore.RED + "[!] "
color_c = colorama.Fore.YELLOW + "[!] "


def connect_to_host():
    print("~" * 50)
    host = input(color_a + "Host --> ")
    port = int(input(color_a + "Port --> "))
    print("~" * 50)
    scan = socket.socket()

    try:
        scan.connect((host, port))
    except scan.error:
        print(color_b + "Port -- ", port, " -- [CLOSED]")
    else:
        print(color_c + "Port -- ", port, " -- [OPEN]")


def connect_to_host_with_list_ports():
    host = input(color_a + "Host --> ")
    list_of_ports = [20, 21, 22, 23, 42, 43, 53, 67, 69, 80]
    for port in list_of_ports:
        try:
            scan = socket.socket()
            scan.connect((host, port))
        except:
            print(color_b + "Port -- ", port, " -- [CLOSED]\n")
        else:
            print(color_c + "Port -- ", port, " -- [OPEN]\n")


if __name__ == "__main__":
    print("~" * 50)

    print("\t[1] --- сканировать отделный порт")
    print("\t[2] --- сканировать список")

    print("~" * 50, "\n")
    user_input = input("[scan]--> ")

    if user_input == "1":
        connect_to_host()
    elif user_input == "2":
        connect_to_host_with_list_ports()
    else:
        print(colorama.Fore.RED + "Параметр введен не правильно!")
